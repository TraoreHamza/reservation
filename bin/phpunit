#!/usr/bin/env php
<?php

if (!ini_get('date.timezone')) {
    ini_set('date.timezone', 'UTC');
}

// Utilisation directe du binaire PHPUnit moderne
$phpunitPath = dirname(__DIR__) . '/vendor/bin/phpunit';

if (is_file($phpunitPath)) {
    require $phpunitPath;
} else {
    // Fallback vers simple-phpunit si disponible
    $simplePhpunitPath = dirname(__DIR__) . '/vendor/symfony/phpunit-bridge/bin/simple-phpunit.php';
    if (is_file($simplePhpunitPath)) {
        require $simplePhpunitPath;
    } else {
        echo "PHPUnit n'est pas installé. Exécutez : composer require --dev phpunit/phpunit\n";
        exit(1);
    }
}
