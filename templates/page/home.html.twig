{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
<main>
	<twig:SearchRoom/>
	<div class="mx-4">
		<div class="relative w-full h-24 sm:h-32 md:h-40 lg:h-48 overflow-hidden rounded my-10 mb-8">
			<img src="{{ asset('medias/images/conference.webp') }}" alt="Bannière salles" class=" brightness-50 absolute inset-0 w-full h-full object-cover opacity-60"/>
			<div class="absolute inset-0 flex items-center justify-center">
				<h1 class="text-white text-lg sm:text-xl md:text-2xl font-bold text-center drop-shadow">
					Liste des salles
				</h1>
			</div>
		</div>
	</div>
</div></div><div class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 px-4">
{% for room in rooms %}

	<div class="bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-200 flex flex-col overflow-hidden">
		<a href="{{path('room_view',{'id': room.id})}}" class="no-underline">
			<img src="{{ asset('medias/images/' ~ room.image) }}" alt="Image de la salle {{ room.name }}" class="h-44 w-full object-cover bg-gray-100 border-b"/>
		</a>
		<div class="p-5 flex flex-col flex-1">
			<div class="flex items-center justify-between mb-3">
				<h2 class="text-xl font-semibold text-blue-800 mb-2 ">{{ room.name }}</h2>
				<span>
					<twig:ux:icon name="line-md:heart" class="h-6 w-6"/>
				</span>
			</div>
			<p class="text-gray-600 mb-1 ">
				<span class="font-bold text-blue-600">Capacité :</span>
				{{ room.capacity }}</p>
			<p class="text-gray-700 mb-2 ">
				<span class="font-bold text-blue-600">Description :</span>
				{{ room.description|length > 90 ? room.description|slice(0,87) ~ '…' : room.description }}
			</p>
			<div class="mt-auto flex justify-center">
				<button class="inline-block px-3 py-1 rounded-full text-sm font-semibold
													{{ room.isAvailable ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700' }}">
					{{ room.isAvailable ? 'Disponible' : 'Indisponible' }}
				</button>
			</div>
		</div>
	</div>
{% else %}
	<p class="col-span-full text-center text-gray-500">Aucune salle trouvée.</p>
{% endfor %}</div><twig:Map/></main>{% endblock %}
