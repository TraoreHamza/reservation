{# filepath: /Users/yasminagueron/Documents/visualstuddiocode/reservation/templates/page/region.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Région - {{ region }}{% endblock %}

{% block body %}
<div class="container mx-auto px-4">
	<h1 class="text-4xl mt-8 text-center font-bold cyan-900">Salles dans la région : {{ region }}</h1>
	<p class="text-center text-gray-600 mt-2 mb-8">Découvrez les salles disponibles dans cette région</p>

	{% if rooms is not empty %}
		<div class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
			{% for room in rooms %}
				<div class="relative min-h-40 bg-white rounded-2xl shadow-xl hover:scale-95 transition-all duration-200 flex flex-col overflow-hidden"
					style="background-image: url('{{ asset('medias/images/' ~ room.image) }}'); background-position: center; background-size: cover; background-repeat: no-repeat;">
					
					<div class="bg-gradient-to-b from-transparent to-slate-900 h-full flex flex-col justify-end p-4">
						<h2 class="text-xl font-semibold text-white mb-1">{{ room.name }}</h2>
						
						<p class="text-sm text-cyan-300 mt-4 bg-cyan-900 bg-opacity-50 rounded-full w-fit px-2 py-1 mb-2">
							<span class="font-bold">Capacité :</span> {{ room.capacity }}
						</p>
						
						<div class="mt-2">
							<span class="inline-block px-3 py-1 rounded-full text-sm font-semibold
								{{ room.isAvailable ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800' }}">
								{{ room.isAvailable ? 'Disponible' : 'Indisponible' }}
							</span>
						</div>

						<div class="mt-2">
							<a href="{{ path('room_view', {'id': room.id}) }}" class="text-sm text-white">Voir la salle &rarr;</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	{% else %}
		<p class="text-center text-gray-500 mt-8">Aucune salle disponible dans cette région.</p>
	{% endif %}
</div>
{% endblock %}
