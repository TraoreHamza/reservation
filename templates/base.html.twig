<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}SalleVenue{% endblock %}</title>
        <link rel="icon" href="https://api.iconify.design/lucide:layers-3.svg" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&family=Questrial&display=swap" rel="stylesheet">
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
            <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com"></script>
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
            <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
            <script>
                // Fallback JavaScript pour le menu déroulant si Alpine.js ne fonctionne pas
                function toggleUserMenu() {
                    const dropdown = document.getElementById('user-menu-dropdown');
                    if (dropdown) {
                        dropdown.classList.toggle('hidden');
                    }
                }
                
                // Fermer le menu quand on clique ailleurs
                document.addEventListener('click', function(event) {
                    const userMenu = document.getElementById('user-menu');
                    const dropdown = document.getElementById('user-menu-dropdown');
                    
                    if (userMenu && dropdown && !userMenu.contains(event.target)) {
                        dropdown.classList.add('hidden');
                    }
                });
            </script>
        {% endblock %}
    </head>
    <body class="bg-gray-50 min-h-screen flex flex-col">
        <twig:flash />
        <twig:nav />
        <main class="flex-1">
            {% block body %}{% endblock %}
        </main>
        <twig:footer />
    </body>
</html>
